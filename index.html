<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>VÃ²ng quay may máº¯n</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: radial-gradient(1200px 600px at 50% -10%, rgba(255,255,255,.8), rgba(255,255,255,0)),
                  radial-gradient(circle at 20% 20%, #e8fff6, transparent 60%),
                  radial-gradient(circle at 80% 30%, #e9e1ff, transparent 55%),
                  linear-gradient(180deg, #e6f7ff, #f3e8ff);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
    }
    h1 {margin: 28px 16px 12px; color: #1f2937; text-shadow: 0 1px 0 rgba(255,255,255,.6); font-weight: 700;}
    .wheel-wrap {position: relative; width: 360px; height: 360px;}
    #wheel {
      width: 360px; height: 360px; border-radius: 50%; border: 10px solid #222; box-shadow: 0 12px 35px rgba(0,0,0,0.22), inset 0 0 10px rgba(0,0,0,0.08);
      transition: transform 4s ease-out;
      display: flex; align-items: center; justify-content: center;
    }
    #arrow {
      width: 0; height: 0; border-left: 18px solid transparent; border-right: 18px solid transparent; border-bottom: 28px solid #ef4444;
      position: absolute; left: 50%; transform: translateX(-50%); top: -14px; filter: drop-shadow(0 3px 2px rgba(0,0,0,.25));
    }
    button {
      padding: 12px 28px; background: linear-gradient(45deg, #ff7b00, #ffcc00); border: none; color: #111827; border-radius: 10px; font-size: 18px;
      font-weight: 700; cursor: pointer; margin-top: 10px; transition: transform .15s ease, box-shadow .2s ease; box-shadow: 0 8px 18px rgba(255,158,13,.4);
    }
    button:hover {transform: translateY(-1px);} button:active {transform: translateY(1px) scale(.99);}
    #result {margin-top: 10px; font-size: 20px; font-weight: 700; color: #111827;}
    .note {font-size: 12px; color: #4b5563; opacity: .8; margin-top: 8px;}
    .label {
      position: absolute;
      top: 50%;
      left: 50%;
      transform-origin: center center;
      font-weight: 700;
      color: #fff;
      text-shadow: 0 1px 2px rgba(0,0,0,.4);
      display: flex;
      flex-direction: column;
      align-items: center;
      font-size: 18px;
    }
  </style>
</head>
<body>
  <h1>ðŸŽ¯ VÃ²ng quay may máº¯n ðŸŽ¯</h1>
  <div class="wheel-wrap">
    <div id="arrow"></div>
    <div id="wheel"></div>
  </div>
  <button id="spinBtn" onclick="spin()">Quay ngay!</button>
  <h2 id="result"></h2>
  <div class="note">* Sau khi vÃ²ng quay dá»«ng vÃ  hiá»‡n káº¿t quáº£, trang sáº½ tá»± chuyá»ƒn tiáº¿p.</div>

  <script>
    const wheel = document.getElementById('wheel');
    const prizes = [
      { text: '+100K', color: '#4caf50', icon: 'ðŸ’Ž' },
      { text: '+150K', color: '#1976d2', icon: 'âš¡' },
      { text: '+89K',  color: '#ff5f5f', icon: 'ðŸ’°' },
      { text: '+119K', color: '#9c27b0', icon: 'ðŸŽ‰' }
    ];
    const step = 360 / prizes.length;
    // tÃ´ mÃ u lÃ¡t
    wheel.style.background = `conic-gradient(
      ${prizes[0].color} 0deg ${step}deg,
      ${prizes[1].color} ${step}deg ${step*2}deg,
      ${prizes[2].color} ${step*2}deg ${step*3}deg,
      ${prizes[3].color} ${step*3}deg 360deg)`;

    // thÃªm nhÃ£n chá»¯ giá»¯a má»—i lÃ¡t
    prizes.forEach((p, i) => {
      const label = document.createElement('div');
      label.className = 'label';
      const angle = i * step + step / 2;
      const radius = 110; // vá»‹ trÃ­ chá»¯ giá»¯a vÃ²ng
      const x = radius * Math.sin(angle * Math.PI / 180);
      const y = -radius * Math.cos(angle * Math.PI / 180);
      label.style.transform = `translate(calc(-50% + ${x}px), calc(-50% + ${y}px)) rotate(${angle}deg)`;
      label.innerHTML = `<div>${p.icon}</div><div>${p.text}</div>`;
      wheel.appendChild(label);
    });

    function playTing() {
      try {
        const ctx = new (window.AudioContext || window.webkitAudioContext)();
        const o = ctx.createOscillator();
        const g = ctx.createGain();
        o.type = 'sine'; o.frequency.value = 1200;
        o.connect(g); g.connect(ctx.destination);
        const now = ctx.currentTime;
        g.gain.setValueAtTime(0.0001, now);
        g.gain.exponentialRampToValueAtTime(0.3, now + 0.02);
        g.gain.exponentialRampToValueAtTime(0.0001, now + 0.35);
        o.start(now); o.stop(now + 0.4);
      } catch (e) {}
    }

    function confettiSimple() {
      const count = 60;
      for (let i=0;i<count;i++){
        const c = document.createElement('div');
        const s = Math.random()*6+4;
        c.style.position='fixed';c.style.top='-10px';c.style.left=(Math.random()*100)+'%';
        c.style.width=s+'px';c.style.height=s+'px';
        c.style.background=['#4caf50','#1976d2','#ff5f5f','#9c27b0'][Math.floor(Math.random()*4)];
        c.style.opacity=.9;c.style.borderRadius='50%';c.style.pointerEvents='none';c.style.zIndex=9999;
        document.body.appendChild(c);
        const duration=Math.random()*1200+1200;
        const endX=(Math.random()*2-1)*120;
        const start=performance.now();
        function fall(t){
          const p=(t-start)/duration;if(p>=1){c.remove();return;}
          c.style.transform=`translate(${endX*p}px,${p*window.innerHeight}px) rotate(${p*720}deg)`;
          requestAnimationFrame(fall);
        }
        requestAnimationFrame(fall);
      }
    }

    function spin() {
      const btn = document.getElementById('spinBtn');
      btn.disabled = true; btn.style.opacity = .7;
      const randomDeg = 720 + Math.floor(Math.random()*360);
      wheel.style.transform = `rotate(${randomDeg}deg)`;
      document.getElementById('result').textContent = '';
      setTimeout(() => {
        const idx = Math.floor(((360 - (randomDeg % 360)) / step)) % prizes.length;
        const pr = prizes[idx];
        document.getElementById('result').textContent = `ðŸŽ‰ Báº¡n trÃºng: ${pr.text} ${pr.icon}`;
        playTing(); confettiSimple();
        setTimeout(() => {
          window.location.href = 'https://web.wwin79.pro/?a=1a36797027f05aef97aa91d942410619&utm_campaign=googleads&utm_source=inhouse&utm_medium=search&utm_term=%7Bkeyword%7D&utm_content=keybrand';
        }, 2500);
      }, 4200);
    }
  </script>
</body>
</html>
